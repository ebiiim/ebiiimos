# 制作ノート

## day01 2021-07-03

主に環境構築。スムーズだったけど普通に疲れた。その後、QEMUにbootableな謎バイナリを突っ込んでhello worldしたり、Cでhello worldのUEFIアプリケーションを書く方法を確認したりした。まだまだ先は長そう。

## day02 2021-07-10

### a

EDK IIによるUEFIアプリケーション開発超入門。なるほどUEFIってこんな感じで開発するのか。

### b

メモリマップ取得。どのアドレスが何に使えるのかの一覧。C言語入門もついていてありがたい。

## day03 2021-07-10

QEMUモニタでレジスタの状態を確認して低レベルのデバッグができる。x86-64はRIPレジスタに次の命令のアドレスが入っている。

### a

カーネル開発超入門。まだhello worldできないのでhltするだけ。ビルドオプションが普段見かけないやつばかりで新鮮。カーネルをメモリ上のイイ感じのところにロードする。

### b

UEFIのブートローダでピクセル単位の画面描画。フレームバッファを取得してfor文でRGB値を入れる。

どうやって画面に反映しているんだろう？更新のタイミングでフレームバッファの中身を画面に描画？

### c

カーネルでフレームバッファを書き換える。アドレスと数値を相互変換するようなやつ。

### d

UEFIアプリのエラー処理をやる。tryがないので文法的にはGoと同じ感じ。

## day04 2021-07-10,2021-07-13,2021-07-14

### a

Makefileを書いた。解説が丁寧で助かる。

### b

ちゃんとした描画処理に向けてカーネルに解像度などフレームバッファの情報を渡した。

### c

bをC++のクラスと継承で書き直した。配置newはじめて知った。

### d

ブートローダの改良。カーネルの読み込みをELFの中身を気にしながらちゃんとやる。よくわからないけど雰囲気はつかめた。

## day05 2021-07-25

フォントを使ってprintfする

### a
ビットマップフォント

### b
ピクセル描画をmain.cppからgraphics.(cpp|hpp)に分割

### c
バイナリを.oにしてCのプログラムとリンクできるってことを知った......

### d
Newlibの力を借りて書式付き文字列描画をやる（動的メモリ確保ができないような環境で使えるライブラリが必要）
